(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{80:function(e,c,n){},84:function(e,c,n){},85:function(e,c,n){},93:function(e,c,n){},94:function(e,c,n){},95:function(e,c,n){},97:function(e,c,n){},98:function(e,c,n){},99:function(e,c,n){"use strict";n.r(c);var a=n(2),t=n.n(a),s=n(25),i=n.n(s),r=(n(80),n(14)),l=n(24),o=(n(84),n(45)),d=n.n(o),j=n(53),b=n.n(j),m=n(30),h=Object(m.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),u=h.actions.setChannelInfo,O=function(e){return e.app.channelId},x=function(e){return e.app.channelName},f=h.reducer,p=(n(85),n(39)),g=n.n(p),v=n(28),_=v.a.initializeApp({apiKey:"AIzaSyAJUrJi-pNXXBdbkqxMWg4NyQJ7iQ8gReY",authDomain:"chatroom-c827e.firebaseapp.com",projectId:"chatroom-c827e",storageBucket:"chatroom-c827e.appspot.com",messagingSenderId:"6991606734",appId:"1:6991606734:web:360cbcaebc86c6767bf19f",measurementId:"G-FPSX9BXJ3K"}).firestore(),N=v.a.auth(),y=new v.a.auth.GoogleAuthProvider,I=_,C=Object(m.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),S=C.actions,k=S.login,w=S.logout,z=function(e){return e.user.user},A=C.reducer,F=n(3);var B=function(e){var c=e.id,n=e.channelName,a=e.admin,t=Object(r.c)(z),s=Object(r.b)();return Object(F.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(u({channelId:c,channelName:n}))},children:Object(F.jsxs)("h4",{children:[Object(F.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n,a===t.displayName?Object(F.jsx)(g.a,{onClick:function(){I.collection("channels").doc(c).delete()},className:"hide__btn_c"}):Object(F.jsx)(F.Fragment,{})]})})},E=n(55),H=n.n(E),J=n(54),R=n.n(J),W=n(56),D=n.n(W),T=n(57),G=n.n(T),L=n(115),P=n(58),q=n.n(P),M=n(59),U=n.n(M),V=n(60),X=n.n(V),K=n(52),Q=n.n(K);var Y=function(){var e=Object(r.c)(z),c=Object(a.useState)([]),n=Object(l.a)(c,2),t=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),j=o[0],m=o[1],h=Object(a.useState)(!1),u=Object(l.a)(h,2),O=u[0],x=u[1];return Object(a.useEffect)((function(){I.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))})),Object(F.jsxs)("div",{className:"sidebar",children:[Object(F.jsxs)("div",{className:"sidebar__top",children:[Object(F.jsx)("h3",{children:"Chat Room"}),Object(F.jsx)(d.a,{})]}),Object(F.jsxs)("div",{className:"sidebar__channels",children:[Object(F.jsx)("div",{className:"sidebar__channelsHeader",children:Object(F.jsxs)("div",{className:"sidebar__header",onClick:function(){j?(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="visible",m(!1)):(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="hidden",m(!0))},children:[j?Object(F.jsx)(Q.a,{}):Object(F.jsx)(d.a,{}),Object(F.jsx)("h4",{children:"Text Channels"}),Object(F.jsx)(b.a,{onClick:function(){var c=prompt("Enter a new channel name");c&&I.collection("channels").add({channelName:c,userAdmin:e.displayName})},className:"sidebar__addChannel"})]})}),Object(F.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var c=e.id,n=e.channel;return Object(F.jsx)(B,{id:c,channelName:n.channelName,admin:n.userAdmin},c)}))})]}),Object(F.jsxs)("div",{onClick:function(){return x(!O)},className:"sidebar__voice",children:[O?Object(F.jsx)(R.a,{className:"sidebar__voiceIcon2",fontSize:"large"}):Object(F.jsx)(H.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(F.jsxs)("div",{className:O?"sidebar__voiceInfo2":"sidebar__voiceInfo",children:[Object(F.jsxs)("h3",{children:["Voice ",O?"Disconnected":"Connected"]}),Object(F.jsx)("p",{children:"Stream"})]}),Object(F.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(F.jsx)(D.a,{}),Object(F.jsx)(G.a,{})]})]}),Object(F.jsxs)("div",{className:"sidebar__profile",children:[Object(F.jsx)(L.a,{src:e.photo,onClick:function(){return N.signOut()}}),Object(F.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(F.jsxs)("h3",{children:["@",e.displayName]}),Object(F.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(F.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(F.jsx)(q.a,{}),Object(F.jsx)(U.a,{}),Object(F.jsx)(X.a,{})]})]})]})},Z=(n(93),n(94),n(61)),$=n.n(Z),ee=n(62),ce=n.n(ee),ne=n(63),ae=n.n(ne),te=n(64),se=n.n(te),ie=n(65),re=n.n(ie),le=n(66),oe=n.n(le);var de=function(e){var c=e.channelName;return Object(F.jsxs)("div",{className:"chatHeader",children:[Object(F.jsx)("div",{className:"chatHeader__left",children:Object(F.jsxs)("h3",{children:[Object(F.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(F.jsxs)("div",{className:"chatHeader__right",children:[Object(F.jsx)($.a,{}),Object(F.jsx)(ce.a,{}),Object(F.jsx)(ae.a,{}),Object(F.jsxs)("div",{className:"chatHeader__search",children:[Object(F.jsx)("input",{placeholder:"Search"}),Object(F.jsx)(se.a,{})]}),Object(F.jsx)(re.a,{}),Object(F.jsx)(oe.a,{})]})]})},je=n(69),be=n.n(je),me=n(68),he=n.n(me),ue=n(70),Oe=n.n(ue),xe=n(71),fe=n.n(xe),pe=n(72),ge=n.n(pe);n(95);var ve=function(e){var c=e.key_id,n=e.channel_id,a=e.timestamp,t=e.user,s=e.message,i=e.img,l=Object(r.c)(z);return Object(F.jsxs)("div",{className:"message",children:[Object(F.jsx)(L.a,{src:t.photo}),Object(F.jsxs)("div",{className:"message__info",children:[Object(F.jsxs)("h4",{children:[" ",t.displayName,Object(F.jsx)("span",{className:"message__timestamp",children:new Date(null===a||void 0===a?void 0:a.toDate()).toUTCString()})]}),i?Object(F.jsx)("img",{alt:"",src:s}):Object(F.jsx)("p",{children:s})]}),t.displayName===l.displayName?Object(F.jsx)(g.a,{onClick:function(){I.collection("channels").doc(n).collection("messages").doc(c).delete()},className:"hide__btn"}):Object(F.jsx)(F.Fragment,{})]})},_e=n(73);var Ne=function(){var e=t.a.createRef(),c=Object(r.c)(z),n=Object(r.c)(O),s=Object(r.c)(x),i=Object(a.useState)(""),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(a.useState)(!1),m=Object(l.a)(b,2),h=m[0],u=m[1],f=Object(a.useState)(!1),p=Object(l.a)(f,2),g=p[0],_=p[1],N=Object(a.useState)([]),y=Object(l.a)(N,2),C=y[0],S=y[1],k=function(){e.scrollIntoView({behavior:"smooth"})};Object(a.useEffect)((function(){n&&I.collection("channels").doc(n).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return S(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),k()}),[n]);var w=function(){u(!h)};return Object(F.jsxs)("div",{className:"chat",children:[Object(F.jsx)(de,{channelName:s}),Object(F.jsxs)("div",{className:"chat__messages",onClick:function(){return _(!1)},children:[C.map((function(c,a){return Object(F.jsx)(ve,{key_id:c.id,channel_id:n,timestamp:c.data.timestamp,message:c.data.message,user:c.data.user,img:c.data.img,lm:parseInt(C.length)-1===a,messagesEnd:e},c.id)})),Object(F.jsx)("div",{style:{float:"left",clear:"both",padding:"40px"},ref:function(c){e=c}})]}),g?Object(F.jsx)("div",{className:"gify__inp",children:Object(F.jsx)(_e.a,{apiKey:"9Ixlv3DWC1biJRI57RanyL7RTbfzz0o7",onSelect:function(e){return a=e,n?I.collection("channels").doc(n).collection("messages").add({timestamp:v.a.firestore.FieldValue.serverTimestamp(),message:a.images.fixed_height.url,user:c,img:!0}):F.Fragment,void _(!1);var a},masonryConfig:[{columns:2,imageWidth:110,gutter:5},{mq:"700px",columns:3,imageWidth:120,gutter:5}]})}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("div",{className:"chat__input",children:[h?Object(F.jsx)(he.a,{onClick:w,className:"addIcon",fontSize:"large"}):Object(F.jsx)(be.a,{onClick:w,fontSize:"large",className:"addIcon"}),Object(F.jsxs)("form",{children:[Object(F.jsx)("input",{value:d,disabled:!n,onChange:function(e){return j(e.target.value)},placeholder:h?"Image url "+s:"Message "+s}),Object(F.jsx)("button",{className:"chat__inputButton",onClick:function(e){e.preventDefault(),I.collection("channels").doc(n).collection("messages").add({timestamp:v.a.firestore.FieldValue.serverTimestamp(),message:d,user:c,img:h}),j(""),k()},type:"submit",children:"Send Message"})]}),Object(F.jsxs)("div",{className:"chat__inputIcons",children:[Object(F.jsx)(Oe.a,{fontSize:"large"}),Object(F.jsx)(fe.a,{onClick:function(){return _(!g)},cursor:"pointer",fontSize:"large"}),Object(F.jsx)(ge.a,{fontSize:"large"})]})]})]})},ye=n(114);n(97);var Ie=function(){return Object(F.jsxs)("div",{className:"login",children:[Object(F.jsx)("div",{className:"login__logo"}),Object(F.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmHOOgwFIeEeNbZePimffFCNPIhpmGAOGT4w&usqp=CAU",alt:""}),Object(F.jsx)(ye.a,{onClick:function(){N.signInWithPopup(y).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};n(98);var Ce=function(){var e=Object(r.b)(),c=Object(r.c)(z);return Object(a.useEffect)((function(){N.onAuthStateChanged((function(c){e(c?k({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):w())}))}),[e]),Object(F.jsx)("div",{className:"app",children:c?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Y,{}),Object(F.jsx)(Ne,{})]}):Object(F.jsx)(Ie,{})})},Se=Object(m.a)({reducer:{user:A,app:f}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(F.jsx)(t.a.StrictMode,{children:Object(F.jsx)(r.a,{store:Se,children:Object(F.jsx)(Ce,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[99,1,2]]]);
//# sourceMappingURL=main.241e7e63.chunk.js.map