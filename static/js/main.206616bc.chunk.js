(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{74:function(e,c,n){},78:function(e,c,n){},79:function(e,c,n){},87:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){},92:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(24),i=n.n(t),r=(n(74),n(17)),l=n(36),o=(n(78),n(44)),j=n.n(o),d=n(51),h=n.n(d),b=n(28),u=Object(b.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),m=u.actions.setChannelInfo,O=function(e){return e.app.channelId},p=function(e){return e.app.channelName},x=u.reducer,f=(n(79),n(3));var v=function(e){var c=e.id,n=e.channelName,a=Object(r.b)();return Object(f.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(m({channelId:c,channelName:n}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},N=n(52),_=n.n(N),g=n(53),S=n.n(g),I=n(54),C=n.n(I),y=n(108),w=n(55),k=n.n(w),A=n(56),E=n.n(A),H=n(57),z=n.n(H),B=Object(b.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),J=B.actions,T=J.login,F=J.logout,G=function(e){return e.user.user},P=B.reducer,D=n(30),M=D.a.initializeApp({apiKey:"AIzaSyAJUrJi-pNXXBdbkqxMWg4NyQJ7iQ8gReY",authDomain:"chatroom-c827e.firebaseapp.com",projectId:"chatroom-c827e",storageBucket:"chatroom-c827e.appspot.com",messagingSenderId:"6991606734",appId:"1:6991606734:web:360cbcaebc86c6767bf19f",measurementId:"G-FPSX9BXJ3K"}).firestore(),U=D.a.auth(),W=new D.a.auth.GoogleAuthProvider,X=M;var q=function(){var e=Object(r.c)(G),c=Object(a.useState)([]),n=Object(l.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){X.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))})),Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar__top",children:[Object(f.jsx)("h3",{children:"Chat Room"}),Object(f.jsx)(j.a,{})]}),Object(f.jsxs)("div",{className:"sidebar__channels",children:[Object(f.jsx)("div",{className:"sidebar__channelsHeader",children:Object(f.jsxs)("div",{className:"sidebar__header",children:[Object(f.jsx)(j.a,{}),Object(f.jsx)("h4",{children:"Text Channels"}),Object(f.jsx)(h.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&X.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]})}),Object(f.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(f.jsx)(v,{id:c,channelName:n.channelName},c)}))})]}),Object(f.jsxs)("div",{className:"sidebar__voice",children:[Object(f.jsx)(_.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(f.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(f.jsx)("h3",{children:"Voice Connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(f.jsx)(S.a,{}),Object(f.jsx)(C.a,{})]})]}),Object(f.jsxs)("div",{className:"sidebar__profile",children:[Object(f.jsx)(y.a,{src:e.photo,onClick:function(){return U.signOut()}}),Object(f.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(f.jsxs)("h3",{children:["@",e.displayName]}),Object(f.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(f.jsx)(k.a,{}),Object(f.jsx)(E.a,{}),Object(f.jsx)(z.a,{})]})]})]})},L=(n(87),n(88),n(58)),R=n.n(L),K=n(59),Q=n.n(K),V=n(60),Y=n.n(V),Z=n(61),$=n.n(Z),ee=n(62),ce=n.n(ee),ne=n(63),ae=n.n(ne);var se=function(e){var c=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatHeader__left",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(f.jsxs)("div",{className:"chatHeader__right",children:[Object(f.jsx)(R.a,{}),Object(f.jsx)(Q.a,{}),Object(f.jsx)(Y.a,{}),Object(f.jsxs)("div",{className:"chatHeader__search",children:[Object(f.jsx)("input",{placeholder:"Search"}),Object(f.jsx)($.a,{})]}),Object(f.jsx)(ce.a,{}),Object(f.jsx)(ae.a,{})]})]})},te=n(64),ie=n.n(te),re=n(65),le=n.n(re),oe=n(66),je=n.n(oe),de=n(67),he=n.n(de);n(89);var be=function(e){var c=e.timestamp,n=e.user,a=e.message;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(y.a,{src:n.photo}),Object(f.jsxs)("div",{className:"message__info",children:[Object(f.jsxs)("h4",{children:[" ",n.displayName,Object(f.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:a})]})]})};var ue=function(){var e=Object(r.c)(G),c=Object(r.c)(O),n=Object(r.c)(p),s=Object(a.useState)(""),t=Object(l.a)(s,2),i=t[0],o=t[1],j=Object(a.useState)([]),d=Object(l.a)(j,2),h=d[0],b=d[1];return Object(a.useEffect)((function(){c&&X.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return b(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(se,{channelName:n}),Object(f.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(f.jsx)(be,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(f.jsxs)("div",{className:"chat__input",children:[Object(f.jsx)(ie.a,{fontSize:"large"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:i,disabled:!c,onChange:function(e){return o(e.target.value)},placeholder:"Message #TESTCHANNEL"}),Object(f.jsx)("button",{className:"chat__inputButton",onClick:function(n){n.preventDefault(),X.collection("channels").doc(c).collection("messages").add({timestamp:D.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},type:"submit",children:"Send Message"})]}),Object(f.jsxs)("div",{className:"chat__inputIcons",children:[Object(f.jsx)(le.a,{fontSize:"large"}),Object(f.jsx)(je.a,{fontSize:"large"}),Object(f.jsx)(he.a,{fontSize:"large"})]})]})]})},me=n(107);n(90);var Oe=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login__logo"}),Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmHOOgwFIeEeNbZePimffFCNPIhpmGAOGT4w&usqp=CAU",alt:""}),Object(f.jsx)(me.a,{onClick:function(){U.signInWithPopup(W).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};n(91);var pe=function(){var e=Object(r.b)(),c=Object(r.c)(G);return Object(a.useEffect)((function(){U.onAuthStateChanged((function(c){e(c?T({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):F())}))}),[e]),Object(f.jsx)("div",{className:"app",children:c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(q,{}),Object(f.jsx)(ue,{})]}):Object(f.jsx)(Oe,{})})},xe=Object(b.a)({reducer:{user:P,app:x}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(r.a,{store:xe,children:Object(f.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.206616bc.chunk.js.map