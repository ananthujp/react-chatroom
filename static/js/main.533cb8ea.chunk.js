(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{75:function(e,c,a){},79:function(e,c,a){},80:function(e,c,a){},87:function(e,c,a){},88:function(e,c,a){},89:function(e,c,a){},90:function(e,c,a){},91:function(e,c,a){},92:function(e,c,a){"use strict";a.r(c);var n=a(2),t=a.n(n),s=a(23),i=a.n(s),l=(a(75),a(13)),r=a(26),o=(a(79),a(43)),d=a.n(o),j=a(51),b=a.n(j),h=a(28),m=Object(h.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),u=m.actions.setChannelInfo,O=function(e){return e.app.channelId},x=function(e){return e.app.channelName},p=m.reducer,f=(a(80),a(38)),N=a.n(f),_=a(30),g=_.a.initializeApp({apiKey:"AIzaSyAJUrJi-pNXXBdbkqxMWg4NyQJ7iQ8gReY",authDomain:"chatroom-c827e.firebaseapp.com",projectId:"chatroom-c827e",storageBucket:"chatroom-c827e.appspot.com",messagingSenderId:"6991606734",appId:"1:6991606734:web:360cbcaebc86c6767bf19f",measurementId:"G-FPSX9BXJ3K"}).firestore(),v=_.a.auth(),y=new _.a.auth.GoogleAuthProvider,I=g,S=Object(h.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),C=S.actions,k=C.login,w=C.logout,A=function(e){return e.user.user},B=S.reducer,z=a(3);var E=function(e){var c=e.id,a=e.channelName,n=e.admin,t=Object(l.c)(A),s=Object(l.b)();return Object(z.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(u({channelId:c,channelName:a}))},children:Object(z.jsxs)("h4",{children:[Object(z.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),a,n===t.displayName?Object(z.jsx)(N.a,{onClick:function(){I.collection("channels").doc(c).delete()},className:"hide__btn"}):Object(z.jsx)(z.Fragment,{})]})})},F=a(52),H=a.n(F),J=a(53),G=a.n(J),P=a(54),D=a.n(P),L=a(108),M=a(55),T=a.n(M),U=a(56),W=a.n(U),X=a(57),q=a.n(X),R=a(50),K=a.n(R);var Q=function(){var e=Object(l.c)(A),c=Object(n.useState)([]),a=Object(r.a)(c,2),t=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),j=o[0],h=o[1];return Object(n.useEffect)((function(){I.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))})),Object(z.jsxs)("div",{className:"sidebar",children:[Object(z.jsxs)("div",{className:"sidebar__top",children:[Object(z.jsx)("h3",{children:"Chat Room"}),Object(z.jsx)(d.a,{})]}),Object(z.jsxs)("div",{className:"sidebar__channels",children:[Object(z.jsx)("div",{className:"sidebar__channelsHeader",children:Object(z.jsxs)("div",{className:"sidebar__header",onClick:function(){j?(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="visible",h(!1)):(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="hidden",h(!0))},children:[j?Object(z.jsx)(K.a,{}):Object(z.jsx)(d.a,{}),Object(z.jsx)("h4",{children:"Text Channels"}),Object(z.jsx)(b.a,{onClick:function(){var c=prompt("Enter a new channel name");c&&I.collection("channels").add({channelName:c,userAdmin:e.displayName})},className:"sidebar__addChannel"})]})}),Object(z.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var c=e.id,a=e.channel;return Object(z.jsx)(E,{id:c,channelName:a.channelName,admin:a.userAdmin},c)}))})]}),Object(z.jsxs)("div",{className:"sidebar__voice",children:[Object(z.jsx)(H.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(z.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(z.jsx)("h3",{children:"Voice Connected"}),Object(z.jsx)("p",{children:"Stream"})]}),Object(z.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(z.jsx)(G.a,{}),Object(z.jsx)(D.a,{})]})]}),Object(z.jsxs)("div",{className:"sidebar__profile",children:[Object(z.jsx)(L.a,{src:e.photo,onClick:function(){return v.signOut()}}),Object(z.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(z.jsxs)("h3",{children:["@",e.displayName]}),Object(z.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(z.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(z.jsx)(T.a,{}),Object(z.jsx)(W.a,{}),Object(z.jsx)(q.a,{})]})]})]})},V=(a(87),a(88),a(58)),Y=a.n(V),Z=a(59),$=a.n(Z),ee=a(60),ce=a.n(ee),ae=a(61),ne=a.n(ae),te=a(62),se=a.n(te),ie=a(63),le=a.n(ie);var re=function(e){var c=e.channelName;return Object(z.jsxs)("div",{className:"chatHeader",children:[Object(z.jsx)("div",{className:"chatHeader__left",children:Object(z.jsxs)("h3",{children:[Object(z.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(z.jsxs)("div",{className:"chatHeader__right",children:[Object(z.jsx)(Y.a,{}),Object(z.jsx)($.a,{}),Object(z.jsx)(ce.a,{}),Object(z.jsxs)("div",{className:"chatHeader__search",children:[Object(z.jsx)("input",{placeholder:"Search"}),Object(z.jsx)(ne.a,{})]}),Object(z.jsx)(se.a,{}),Object(z.jsx)(le.a,{})]})]})},oe=a(65),de=a.n(oe),je=a(64),be=a.n(je),he=a(66),me=a.n(he),ue=a(67),Oe=a.n(ue),xe=a(68),pe=a.n(xe);a(89);var fe=function(e){var c=e.key_id,a=e.channel_id,n=e.timestamp,t=e.user,s=e.message,i=e.img,r=Object(l.c)(A);return Object(z.jsxs)("div",{className:"message",children:[Object(z.jsx)(L.a,{src:t.photo}),Object(z.jsxs)("div",{className:"message__info",children:[Object(z.jsxs)("h4",{children:[" ",t.displayName,Object(z.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),i?Object(z.jsx)("img",{alt:"",src:s}):Object(z.jsx)("p",{children:s})]}),t.displayName===r.displayName?Object(z.jsx)(N.a,{onClick:function(){I.collection("channels").doc(a).collection("messages").doc(c).delete()},className:"hide__btn"}):Object(z.jsx)(z.Fragment,{})]})};var Ne=function(){var e=Object(l.c)(A),c=Object(l.c)(O),a=Object(l.c)(x),t=Object(n.useState)(""),s=Object(r.a)(t,2),i=s[0],o=s[1],d=Object(n.useState)(!1),j=Object(r.a)(d,2),b=j[0],h=j[1],m=Object(n.useState)([]),u=Object(r.a)(m,2),p=u[0],f=u[1];Object(n.useEffect)((function(){c&&I.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return f(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[c]);var N=function(){h(!b)};return Object(z.jsxs)("div",{className:"chat",children:[Object(z.jsx)(re,{channelName:a}),Object(z.jsx)("div",{className:"chat__messages",children:p.map((function(e){return Object(z.jsx)(fe,{key_id:e.id,channel_id:c,timestamp:e.data.timestamp,message:e.data.message,user:e.data.user,img:e.data.img},e.id)}))}),Object(z.jsxs)("div",{className:"chat__input",children:[b?Object(z.jsx)(be.a,{onClick:N,className:"addIcon",fontSize:"large"}):Object(z.jsx)(de.a,{onClick:N,fontSize:"large",className:"addIcon"}),Object(z.jsxs)("form",{children:[Object(z.jsx)("input",{value:i,disabled:!c,onChange:function(e){return o(e.target.value)},placeholder:b?"Image url "+a:"Message "+a}),Object(z.jsx)("button",{className:"chat__inputButton",onClick:function(a){a.preventDefault(),I.collection("channels").doc(c).collection("messages").add({timestamp:_.a.firestore.FieldValue.serverTimestamp(),message:i,user:e,img:b}),o("")},type:"submit",children:"Send Message"})]}),Object(z.jsxs)("div",{className:"chat__inputIcons",children:[Object(z.jsx)(me.a,{fontSize:"large"}),Object(z.jsx)(Oe.a,{fontSize:"large"}),Object(z.jsx)(pe.a,{fontSize:"large"})]})]})]})},_e=a(107);a(90);var ge=function(){return Object(z.jsxs)("div",{className:"login",children:[Object(z.jsx)("div",{className:"login__logo"}),Object(z.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmHOOgwFIeEeNbZePimffFCNPIhpmGAOGT4w&usqp=CAU",alt:""}),Object(z.jsx)(_e.a,{onClick:function(){v.signInWithPopup(y).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};a(91);var ve=function(){var e=Object(l.b)(),c=Object(l.c)(A);return Object(n.useEffect)((function(){v.onAuthStateChanged((function(c){e(c?k({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):w())}))}),[e]),Object(z.jsx)("div",{className:"app",children:c?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Q,{}),Object(z.jsx)(Ne,{})]}):Object(z.jsx)(ge,{})})},ye=Object(h.a)({reducer:{user:B,app:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(z.jsx)(t.a.StrictMode,{children:Object(z.jsx)(l.a,{store:ye,children:Object(z.jsx)(ve,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.533cb8ea.chunk.js.map