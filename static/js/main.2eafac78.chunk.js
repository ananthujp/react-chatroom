(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{73:function(e,a,c){},77:function(e,a,c){},78:function(e,a,c){},85:function(e,a,c){},86:function(e,a,c){},87:function(e,a,c){},88:function(e,a,c){},89:function(e,a,c){},90:function(e,a,c){"use strict";c.r(a);var n=c(2),t=c.n(n),s=c(23),i=c.n(s),r=(c(73),c(16)),l=c(30),o=(c(77),c(42)),j=c.n(o),d=c(50),b=c.n(d),h=c(27),u=Object(h.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,a){e.channelId=a.payload.channelId,e.channelName=a.payload.channelName}}}),m=u.actions.setChannelInfo,O=function(e){return e.app.channelId},x=function(e){return e.app.channelName},p=u.reducer,f=(c(78),c(3));var v=function(e){var a=e.id,c=e.channelName,n=Object(r.b)();return Object(f.jsx)("div",{className:"sidebarChannel",onClick:function(){return n(m({channelId:a,channelName:c}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),c]})})},N=c(51),_=c.n(N),g=c(52),S=c.n(g),I=c(53),C=c.n(I),y=c(106),w=c(54),k=c.n(w),E=c(55),A=c.n(E),B=c(56),H=c.n(B),z=Object(h.b)({name:"user",initialState:{user:null},reducers:{login:function(e,a){e.user=a.payload},logout:function(e){e.user=null}}}),J=z.actions,T=J.login,F=J.logout,G=function(e){return e.user.user},L=z.reducer,P=c(29),D=P.a.initializeApp({apiKey:"AIzaSyAJUrJi-pNXXBdbkqxMWg4NyQJ7iQ8gReY",authDomain:"chatroom-c827e.firebaseapp.com",projectId:"chatroom-c827e",storageBucket:"chatroom-c827e.appspot.com",messagingSenderId:"6991606734",appId:"1:6991606734:web:360cbcaebc86c6767bf19f",measurementId:"G-FPSX9BXJ3K"}).firestore(),M=P.a.auth(),U=new P.a.auth.GoogleAuthProvider,W=D,X=c(49),q=c.n(X);var R=function(){var e=Object(r.c)(G),a=Object(n.useState)([]),c=Object(l.a)(a,2),t=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),d=o[0],h=o[1];return Object(n.useEffect)((function(){W.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))})),Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar__top",children:[Object(f.jsx)("h3",{children:"Chat Room"}),Object(f.jsx)(j.a,{})]}),Object(f.jsxs)("div",{className:"sidebar__channels",children:[Object(f.jsx)("div",{className:"sidebar__channelsHeader",children:Object(f.jsxs)("div",{className:"sidebar__header",onClick:function(){d?(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="visible",h(!1)):(document.getElementsByClassName("sidebar__channelsList")[0].style.visibility="hidden",h(!0))},children:[d?Object(f.jsx)(q.a,{}):Object(f.jsx)(j.a,{}),Object(f.jsx)("h4",{children:"Text Channels"}),Object(f.jsx)(b.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&W.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]})}),Object(f.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var a=e.id,c=e.channel;return Object(f.jsx)(v,{id:a,channelName:c.channelName},a)}))})]}),Object(f.jsxs)("div",{className:"sidebar__voice",children:[Object(f.jsx)(_.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(f.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(f.jsx)("h3",{children:"Voice Connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(f.jsx)(S.a,{}),Object(f.jsx)(C.a,{})]})]}),Object(f.jsxs)("div",{className:"sidebar__profile",children:[Object(f.jsx)(y.a,{src:e.photo,onClick:function(){return M.signOut()}}),Object(f.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(f.jsxs)("h3",{children:["@",e.displayName]}),Object(f.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(f.jsx)(k.a,{}),Object(f.jsx)(A.a,{}),Object(f.jsx)(H.a,{})]})]})]})},K=(c(85),c(86),c(57)),Q=c.n(K),V=c(58),Y=c.n(V),Z=c(59),$=c.n(Z),ee=c(60),ae=c.n(ee),ce=c(61),ne=c.n(ce),te=c(62),se=c.n(te);var ie=function(e){var a=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatHeader__left",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader__hash",children:"#"}),a]})}),Object(f.jsxs)("div",{className:"chatHeader__right",children:[Object(f.jsx)(Q.a,{}),Object(f.jsx)(Y.a,{}),Object(f.jsx)($.a,{}),Object(f.jsxs)("div",{className:"chatHeader__search",children:[Object(f.jsx)("input",{placeholder:"Search"}),Object(f.jsx)(ae.a,{})]}),Object(f.jsx)(ne.a,{}),Object(f.jsx)(se.a,{})]})]})},re=c(63),le=c.n(re),oe=c(64),je=c.n(oe),de=c(65),be=c.n(de),he=c(66),ue=c.n(he);c(87);var me=function(e){var a=e.timestamp,c=e.user,n=e.message;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(y.a,{src:c.photo}),Object(f.jsxs)("div",{className:"message__info",children:[Object(f.jsxs)("h4",{children:[" ",c.displayName,Object(f.jsx)("span",{className:"message__timestamp",children:new Date(null===a||void 0===a?void 0:a.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:n})]})]})};var Oe=function(){var e=Object(r.c)(G),a=Object(r.c)(O),c=Object(r.c)(x),t=Object(n.useState)(""),s=Object(l.a)(t,2),i=s[0],o=s[1],j=Object(n.useState)([]),d=Object(l.a)(j,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){a&&W.collection("channels").doc(a).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return h(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[a]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(ie,{channelName:c}),Object(f.jsx)("div",{className:"chat__messages",children:b.map((function(e){return Object(f.jsx)(me,{timestamp:e.data.timestamp,message:e.data.message,user:e.data.user},e.id)}))}),Object(f.jsxs)("div",{className:"chat__input",children:[Object(f.jsx)(le.a,{fontSize:"large"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:i,disabled:!a,onChange:function(e){return o(e.target.value)},placeholder:"Message #TESTCHANNEL"}),Object(f.jsx)("button",{className:"chat__inputButton",onClick:function(c){c.preventDefault(),W.collection("channels").doc(a).collection("messages").add({timestamp:P.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},type:"submit",children:"Send Message"})]}),Object(f.jsxs)("div",{className:"chat__inputIcons",children:[Object(f.jsx)(je.a,{fontSize:"large"}),Object(f.jsx)(be.a,{fontSize:"large"}),Object(f.jsx)(ue.a,{fontSize:"large"})]})]})]})},xe=c(105);c(88);var pe=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login__logo"}),Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmHOOgwFIeEeNbZePimffFCNPIhpmGAOGT4w&usqp=CAU",alt:""}),Object(f.jsx)(xe.a,{onClick:function(){M.signInWithPopup(U).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};c(89);var fe=function(){var e=Object(r.b)(),a=Object(r.c)(G);return Object(n.useEffect)((function(){M.onAuthStateChanged((function(a){e(a?T({uid:a.uid,photo:a.photoURL,email:a.email,displayName:a.displayName}):F())}))}),[e]),Object(f.jsx)("div",{className:"app",children:a?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R,{}),Object(f.jsx)(Oe,{})]}):Object(f.jsx)(pe,{})})},ve=Object(h.a)({reducer:{user:L,app:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(t.a.StrictMode,{children:Object(f.jsx)(r.a,{store:ve,children:Object(f.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[90,1,2]]]);
//# sourceMappingURL=main.2eafac78.chunk.js.map